name: Recent Activity
on:
  schedule: [{cron: "0 * * * *"}]
  workflow_dispatch:
  push: {branches: ["master", "main"]}
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }} 
          user: ${{ github.repository_owner }}
          template: classic
          base: ""
          filename: assets/metrics.plugin.recent-activity.svg

          # Activity Plugin Configuration
          # These options match the definition you provided:
          
          plugin_activity: yes              # Enable the plugin
          plugin_activity_limit: 5          # Limit (default: 5)
          plugin_activity_load: 300         # Events to load (default: 300)
          plugin_activity_days: 14          # Days history (default: 14)
          plugin_activity_visibility: public   # Visibility: public (safest to start)
          plugin_activity_timestamps: no    # Timestamps (default: no)
          plugin_activity_filter: push, issue, pr, review, star, fork, release # Explicit list to avoid buggy event types
          
          # Optional settings (uncomment to use)
          # plugin_activity_ignored: bot-user, other-user 
          # plugin_activity_skipped: my-repo, other-repo